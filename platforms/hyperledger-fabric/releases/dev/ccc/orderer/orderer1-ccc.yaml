apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: ccc-orderer1
  namespace: ccc-net
  annotations:
    fluxcd.io/automated: "false"
spec:
  releaseName: ccc-orderer1
  chart:
    git: https://github.com/liubaninc/bevel.git
    ref: local10
    path: platforms/hyperledger-fabric/charts/orderernode
  values:
    metadata:
      namespace: ccc-net
      images:
        orderer: hyperledger/fabric-orderer:2.2.2
        alpineutils: index.docker.io/hyperledgerlabs/alpine-utils:1.0
    annotations:  
      service:
        - example1: example2
      pvc:
      deployment:
    orderer:
      name: orderer1
      loglevel: info
      localmspid: cccMSP
      tlsstatus: true
      keepaliveserverinterval: 10s
    
    consensus:
      name: kafka

    storage:
      storageclassname: cccsc
      storagesize: 512Mi  

    service:
      servicetype: ClusterIP
      ports:
        grpc:
          clusteripport: 7050

    vault:
      address: http://101.36.106.59:8200
      role: vault-role
      authpath: devccc-net-auth
      secretprefix: secretsv2/data/crypto/ordererOrganizations/ccc-net/orderers/orderer1.ccc-net
      imagesecretname: regcred
      serviceaccountname: vault-auth
    kafka:
      readinesscheckinterval: 10
      readinessthreshold: 10
      brokers:
      - kafka-0.broker.ccc-net.svc.cluster.local:9092
      - kafka-1.broker.ccc-net.svc.cluster.local:9092
      - kafka-2.broker.ccc-net.svc.cluster.local:9092
      - kafka-3.broker.ccc-net.svc.cluster.local:9092

    proxy:
      provider: haproxy
      external_url_suffix: cccambassador.blockchain.liubaninc.cn

    genesis: |-
      CiIaILNGmh0xN4VBsOko60cSUzP+cBU59NOqCuLWsTsrswL6ErciCrQiCrEiCngKWggBEAEaBgjq
      gr+PBiIKc3lzY2hhbm5lbCpAZTc3ZmE5Mzg3NmY3Mzk2MGZkZjhhZTk4MDMxNDg0OWI2N2U1ZDZj
      NjAzNWJhZWM0Yjg1NzRhMzEzZWFmNTc2MRIaEhiR+a0P7SmG5rEnFQmB6Am1kMlEriM4h7cStCEK
      sSESriES6RsKB09yZGVyZXIS3RsSsBcKBmNjY01TUBKlFxrRFQoDTVNQEskVEr4VErsVCgZjY2NN
      U1AStgYtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ016Q0NBZHFnQXdJQkFnSVVTeDdL
      VjIrMm1zS2ttSGZOTUNmRFFKK3pQT293Q2dZSUtvWkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1D
      UjBJeER6QU5CZ05WQkFnTUJreHZibVJ2YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lE
      VlFRS0RBTmpZMk14T1RBM0JnTlZCQU1NTUdOaExtTmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYK
      Y2k1aWJHOWphMk5vWVdsdUxteHBkV0poYm1sdVl5NWpiakFlRncweU1qQXhNalV3T0RVeE5EWmFG
      dzB5TkRFeApNVFF3T0RVeE5EWmFNSGd4Q3pBSkJnTlZCQVlUQWtkQ01ROHdEUVlEVlFRSURBWk1i
      MjVrYjI0eER6QU5CZ05WCkJBY01Ca3h2Ym1SdmJqRU1NQW9HQTFVRUNnd0RZMk5qTVRrd053WURW
      UVFERERCallTNWpZMk10Ym1WMExtTmoKWTJGdFltRnpjMkZrYjNJdVlteHZZMnRqYUdGcGJpNXNh
      WFZpWVc1cGJtTXVZMjR3V1RBVEJnY3Foa2pPUFFJQgpCZ2dxaGtqT1BRTUJCd05DQUFRR2VFa2c4
      MTRXRnBxdkJIZjVxdU85RERBZzJNOGc3RzY3RlFNbWEyVWhmM1VNCkRBYlFtV3dmdlg0d0tFdTBu
      blJGcjk3Z0hYTVVPUTFQNWNTRjAxZnhvMEl3UURBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01BNEdB
      MVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIUTRFRmdRVWg2aWFRNGlDTVZXRUVlOU94RVV2M2V0Ngo0
      WWN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnSnVzSXk0S3N6N0NzN1BHTHBuSTJDdmpwNnJwTnJq
      SXJibmh2Clh6WXhmMEFDSUh4Q0RCSDVka3NGRGdGdEsxcC8zVUZvYjhoNHQxeHk3MTF6MWdjUnN2
      WUEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoirggtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0t
      LS0KTUlJQzZqQ0NBcEdnQXdJQkFnSVVaMnI3UGVsOGRDNjBvNWVybW4veGcwYVVRVDh3Q2dZSUtv
      Wkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1DUjBJeER6QU5CZ05WQkFnTUJreHZibVJ2YmpFUE1B
      MEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lEVlFRS0RBTmpZMk14T1RBM0JnTlZCQU1NTUdOaExt
      TmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYKY2k1aWJHOWphMk5vWVdsdUxteHBkV0poYm1sdVl5
      NWpiakFlRncweU1qQXhNalV3T0RVM01EQmFGdzB5TXpBeApNalV3T1RBeU1EQmFNR1F4Q3pBSkJn
      TlZCQVlUQWtkQ01Sc3dHUVlEVlFRSEV4STFNUzQxTUM4dE1DNHhNeTlNCmIyNWtiMjR4RURBT0Jn
      TlZCQW9UQjA5eVpHVnlaWEl4RGpBTUJnTlZCQXNUQldGa2JXbHVNUll3RkFZRFZRUUQKREExQlpH
      MXBia0JqWTJNdGJtVjBNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVwd0xBdHFE
      Sgo5QWhjcVFnSEN5Vk1EbXY2MXVXZitjTFlrQi9OSWk3SWE3Z1NRQk9HU04rUDI1TFRSKy8rK0Vr
      d0FUOGU1OE01ClNETExnOGZKYzNxUUg2T0NBUXN3Z2dFSE1BNEdBMVVkRHdFQi93UUVBd0lIZ0RB
      TUJnTlZIUk1CQWY4RUFqQUEKTUIwR0ExVWREZ1FXQkJRcURXcXpJK0FZMkJZekJVVmpwOXZDUjBE
      ZVR6QWZCZ05WSFNNRUdEQVdnQlNIcUpwRAppSUl4VllRUjcwN0VSUy9kNjNyaGh6QWpCZ05WSFJF
      RUhEQWFnaGhqWVMxMGIyOXNjeTA1T1dZM056Vm1OMkl0Ck5HZHJjVEl3Z1lFR0NDb0RCQVVHQndn
      QkJIVjdJbUYwZEhKeklqcDdJbUZpWVdNdWFXNXBkQ0k2SW5SeWRXVWkKTENKaFpHMXBiaUk2SW5S
      eWRXVWlMQ0pvWmk1QlptWnBiR2xoZEdsdmJpSTZJaUlzSW1obUxrVnVjbTlzYkcxbApiblJKUkNJ
      NklrRmtiV2x1UUdOall5MXVaWFFpTENKb1ppNVVlWEJsSWpvaVlXUnRhVzRpZlgwd0NnWUlLb1pJ
      CnpqMEVBd0lEUndBd1JBSWdiVW5qZmVlaEdsY0JCUE93RC9wMWtqcXNCNU53RGMyQnFqS3JwTzRr
      a3VjQ0lIRFIKSEpQQXp4bkIvTGs0V1FqVnYzUTNVeURpMm5ZTXZqcUw4WVhwVnBkRQotLS0tLUVO
      RCBDRVJUSUZJQ0FURS0tLS0tCkIOCgRTSEEyEgZTSEEyNTZKtgYtLS0tLUJFR0lOIENFUlRJRklD
      QVRFLS0tLS0KTUlJQ016Q0NBZHFnQXdJQkFnSVVTeDdLVjIrMm1zS2ttSGZOTUNmRFFKK3pQT293
      Q2dZSUtvWkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1DUjBJeER6QU5CZ05WQkFnTUJreHZibVJ2
      YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lEVlFRS0RBTmpZMk14T1RBM0JnTlZCQU1N
      TUdOaExtTmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYKY2k1aWJHOWphMk5vWVdsdUxteHBkV0po
      Ym1sdVl5NWpiakFlRncweU1qQXhNalV3T0RVeE5EWmFGdzB5TkRFeApNVFF3T0RVeE5EWmFNSGd4
      Q3pBSkJnTlZCQVlUQWtkQ01ROHdEUVlEVlFRSURBWk1iMjVrYjI0eER6QU5CZ05WCkJBY01Ca3h2
      Ym1SdmJqRU1NQW9HQTFVRUNnd0RZMk5qTVRrd053WURWUVFERERCallTNWpZMk10Ym1WMExtTmoK
      WTJGdFltRnpjMkZrYjNJdVlteHZZMnRqYUdGcGJpNXNhWFZpWVc1cGJtTXVZMjR3V1RBVEJnY3Fo
      a2pPUFFJQgpCZ2dxaGtqT1BRTUJCd05DQUFRR2VFa2c4MTRXRnBxdkJIZjVxdU85RERBZzJNOGc3
      RzY3RlFNbWEyVWhmM1VNCkRBYlFtV3dmdlg0d0tFdTBublJGcjk3Z0hYTVVPUTFQNWNTRjAxZnhv
      MEl3UURBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZI
      UTRFRmdRVWg2aWFRNGlDTVZXRUVlOU94RVV2M2V0Ngo0WWN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdS
      QUlnSnVzSXk0S3N6N0NzN1BHTHBuSTJDdmpwNnJwTnJqSXJibmh2Clh6WXhmMEFDSUh4Q0RCSDVk
      a3NGRGdGdEsxcC8zVUZvYjhoNHQxeHk3MTF6MWdjUnN2WUEKLS0tLS1FTkQgQ0VSVElGSUNBVEUt
      LS0tLQoaBkFkbWlucyIwCgZBZG1pbnMSJhIcCAESGBIIEgYIARICCAAaDBIKCgZjY2NNU1AQARoG
      QWRtaW5zIjMKC0VuZG9yc2VtZW50EiQSGggBEhYSCBIGCAESAggAGgoSCAoGY2NjTVNQGgZBZG1p
      bnMiLwoHUmVhZGVycxIkEhoIARIWEggSBggBEgIIABoKEggKBmNjY01TUBoGQWRtaW5zIi8KB1dy
      aXRlcnMSJBIaCAESFhIIEgYIARICCAAaChIICgZjY2NNU1AaBkFkbWlucyoGQWRtaW5zGiIKCUJh
      dGNoU2l6ZRIVEgsIChCAgIAxGICAQBoGQWRtaW5zGh4KDEJhdGNoVGltZW91dBIOEgQKAjJzGgZB
      ZG1pbnMaHwoTQ2hhbm5lbFJlc3RyaWN0aW9ucxIIGgZBZG1pbnMaJAoMQ2FwYWJpbGl0aWVzEhQS
      CgoICgRWMl8wEgAaBkFkbWlucxrYAQoMS2Fma2FCcm9rZXJzEscBErwBCi1rYWZrYS0wLmJyb2tl
      ci5jY2MtbmV0LnN2Yy5jbHVzdGVyLmxvY2FsOjkwOTIKLWthZmthLTEuYnJva2VyLmNjYy1uZXQu
      c3ZjLmNsdXN0ZXIubG9jYWw6OTA5Mgota2Fma2EtMi5icm9rZXIuY2NjLW5ldC5zdmMuY2x1c3Rl
      ci5sb2NhbDo5MDkyCi1rYWZrYS0zLmJyb2tlci5jY2MtbmV0LnN2Yy5jbHVzdGVyLmxvY2FsOjkw
      OTIaBkFkbWlucxoiCg1Db25zZW5zdXNUeXBlEhESBwoFa2Fma2EaBkFkbWlucyIiCgdXcml0ZXJz
      EhcSDQgDEgkKB1dyaXRlcnMaBkFkbWlucyIiCgZBZG1pbnMSGBIOCAMSCgoGQWRtaW5zEAIaBkFk
      bWlucyIqCg9CbG9ja1ZhbGlkYXRpb24SFxINCAMSCQoHV3JpdGVycxoGQWRtaW5zIiIKB1JlYWRl
      cnMSFxINCAMSCQoHUmVhZGVycxoGQWRtaW5zKgZBZG1pbnMSxgEKC0NvbnNvcnRpdW1zErYBEmwK
      DWNjY0NvbnNvcnRpdW0SWxpAChVDaGFubmVsQ3JlYXRpb25Qb2xpY3kSJxIMCAMSCAoGQWRtaW5z
      GhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucyoXL0NoYW5uZWwvT3JkZXJlci9BZG1pbnMiLQoGQWRt
      aW5zEiMSCAgBEgQSAhIAGhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucyoXL0NoYW5uZWwvT3JkZXJl
      ci9BZG1pbnMaJgoQSGFzaGluZ0FsZ29yaXRobRISEggKBlNIQTI1NhoGQWRtaW5zGi0KGUJsb2Nr
      RGF0YUhhc2hpbmdTdHJ1Y3R1cmUSEBIGCP////8PGgZBZG1pbnMahQIKEE9yZGVyZXJBZGRyZXNz
      ZXMS8AES1AEKM29yZGVyZXIwLmNjY2FtYmFzc2Fkb3IuYmxvY2tjaGFpbi5saXViYW5pbmMuY246
      ODQ0Mwozb3JkZXJlcjEuY2NjYW1iYXNzYWRvci5ibG9ja2NoYWluLmxpdWJhbmluYy5jbjo4NDQz
      CjNvcmRlcmVyMi5jY2NhbWJhc3NhZG9yLmJsb2NrY2hhaW4ubGl1YmFuaW5jLmNuOjg0NDMKM29y
      ZGVyZXIzLmNjY2FtYmFzc2Fkb3IuYmxvY2tjaGFpbi5saXViYW5pbmMuY246ODQ0MxoXL0NoYW5u
      ZWwvT3JkZXJlci9BZG1pbnMaJAoMQ2FwYWJpbGl0aWVzEhQSCgoICgRWMl8wEgAaBkFkbWlucyIi
      CgdXcml0ZXJzEhcSDQgDEgkKB1dyaXRlcnMaBkFkbWlucyIiCgZBZG1pbnMSGBIOCAMSCgoGQWRt
      aW5zEAIaBkFkbWlucyIiCgdSZWFkZXJzEhcSDQgDEgkKB1JlYWRlcnMaBkFkbWlucyoGQWRtaW5z
      Gg4KBAoCCgAKAAoACgAKAA==
