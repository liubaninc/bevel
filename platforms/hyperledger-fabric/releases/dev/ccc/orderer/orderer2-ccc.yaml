apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: ccc-orderer2
  namespace: ccc-net
  annotations:
    fluxcd.io/automated: "false"
spec:
  releaseName: ccc-orderer2
  chart:
    git: https://github.com/liubaninc/bevel.git
    ref: local10
    path: platforms/hyperledger-fabric/charts/orderernode
  values:
    metadata:
      namespace: ccc-net
      images:
        orderer: hyperledger/fabric-orderer:2.2.2
        alpineutils: index.docker.io/hyperledgerlabs/alpine-utils:1.0
    annotations:  
      service:
        - example1: example2
      pvc:
      deployment:
    orderer:
      name: orderer2
      loglevel: info
      localmspid: cccMSP
      tlsstatus: true
      keepaliveserverinterval: 10s
    
    consensus:
      name: kafka

    storage:
      storageclassname: cccsc
      storagesize: 512Mi  

    service:
      servicetype: ClusterIP
      ports:
        grpc:
          clusteripport: 7050

    vault:
      address: http://101.36.106.59:8200
      role: vault-role
      authpath: devccc-net-auth
      secretprefix: secretsv2/data/crypto/ordererOrganizations/ccc-net/orderers/orderer2.ccc-net
      imagesecretname: regcred
      serviceaccountname: vault-auth
    kafka:
      readinesscheckinterval: 10
      readinessthreshold: 10
      brokers:
      - kafka-0.broker.ccc-net.svc.cluster.local:9092
      - kafka-1.broker.ccc-net.svc.cluster.local:9092
      - kafka-2.broker.ccc-net.svc.cluster.local:9092
      - kafka-3.broker.ccc-net.svc.cluster.local:9092

    proxy:
      provider: haproxy
      external_url_suffix: cccambassador.blockchain.liubaninc.cn

    genesis: |-
      CiIaIGYeHOX+GXxxDqMY/90TwmkqMs9hY8azja8SUYkqlPyQErciCrQiCrEiCngKWggBEAEaBgjU
      iL+PBiIKc3lzY2hhbm5lbCpANDkwNTNiNjRiNDcyZjE3ZjBmYTViYjE2MjU5YzFkYTkxMWMzMjlm
      ZWYyYTFkOGI5ZDljNGE5ZjNkZjQxMTdiMxIaEhjGeUZGp2W2Sd7U8+M/5lmz4d5XOSDbLh4StCEK
      sSESriES6RsKB09yZGVyZXIS3RsSsBcKBmNjY01TUBKlFxrRFQoDTVNQEskVEr4VErsVCgZjY2NN
      U1AStgYtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ016Q0NBZHFnQXdJQkFnSVVTeDdL
      VjIrMm1zS2ttSGZOTUNmRFFKK3pQT293Q2dZSUtvWkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1D
      UjBJeER6QU5CZ05WQkFnTUJreHZibVJ2YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lE
      VlFRS0RBTmpZMk14T1RBM0JnTlZCQU1NTUdOaExtTmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYK
      Y2k1aWJHOWphMk5vWVdsdUxteHBkV0poYm1sdVl5NWpiakFlRncweU1qQXhNalV3T0RVeE5EWmFG
      dzB5TkRFeApNVFF3T0RVeE5EWmFNSGd4Q3pBSkJnTlZCQVlUQWtkQ01ROHdEUVlEVlFRSURBWk1i
      MjVrYjI0eER6QU5CZ05WCkJBY01Ca3h2Ym1SdmJqRU1NQW9HQTFVRUNnd0RZMk5qTVRrd053WURW
      UVFERERCallTNWpZMk10Ym1WMExtTmoKWTJGdFltRnpjMkZrYjNJdVlteHZZMnRqYUdGcGJpNXNh
      WFZpWVc1cGJtTXVZMjR3V1RBVEJnY3Foa2pPUFFJQgpCZ2dxaGtqT1BRTUJCd05DQUFRR2VFa2c4
      MTRXRnBxdkJIZjVxdU85RERBZzJNOGc3RzY3RlFNbWEyVWhmM1VNCkRBYlFtV3dmdlg0d0tFdTBu
      blJGcjk3Z0hYTVVPUTFQNWNTRjAxZnhvMEl3UURBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01BNEdB
      MVVkRHdFQi93UUVBd0lCcGpBZEJnTlZIUTRFRmdRVWg2aWFRNGlDTVZXRUVlOU94RVV2M2V0Ngo0
      WWN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnSnVzSXk0S3N6N0NzN1BHTHBuSTJDdmpwNnJwTnJq
      SXJibmh2Clh6WXhmMEFDSUh4Q0RCSDVka3NGRGdGdEsxcC8zVUZvYjhoNHQxeHk3MTF6MWdjUnN2
      WUEKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoirggtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0t
      LS0KTUlJQzZqQ0NBcEdnQXdJQkFnSVVaMnI3UGVsOGRDNjBvNWVybW4veGcwYVVRVDh3Q2dZSUtv
      Wkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1DUjBJeER6QU5CZ05WQkFnTUJreHZibVJ2YmpFUE1B
      MEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lEVlFRS0RBTmpZMk14T1RBM0JnTlZCQU1NTUdOaExt
      TmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYKY2k1aWJHOWphMk5vWVdsdUxteHBkV0poYm1sdVl5
      NWpiakFlRncweU1qQXhNalV3T0RVM01EQmFGdzB5TXpBeApNalV3T1RBeU1EQmFNR1F4Q3pBSkJn
      TlZCQVlUQWtkQ01Sc3dHUVlEVlFRSEV4STFNUzQxTUM4dE1DNHhNeTlNCmIyNWtiMjR4RURBT0Jn
      TlZCQW9UQjA5eVpHVnlaWEl4RGpBTUJnTlZCQXNUQldGa2JXbHVNUll3RkFZRFZRUUQKREExQlpH
      MXBia0JqWTJNdGJtVjBNRmt3RXdZSEtvWkl6ajBDQVFZSUtvWkl6ajBEQVFjRFFnQUVwd0xBdHFE
      Sgo5QWhjcVFnSEN5Vk1EbXY2MXVXZitjTFlrQi9OSWk3SWE3Z1NRQk9HU04rUDI1TFRSKy8rK0Vr
      d0FUOGU1OE01ClNETExnOGZKYzNxUUg2T0NBUXN3Z2dFSE1BNEdBMVVkRHdFQi93UUVBd0lIZ0RB
      TUJnTlZIUk1CQWY4RUFqQUEKTUIwR0ExVWREZ1FXQkJRcURXcXpJK0FZMkJZekJVVmpwOXZDUjBE
      ZVR6QWZCZ05WSFNNRUdEQVdnQlNIcUpwRAppSUl4VllRUjcwN0VSUy9kNjNyaGh6QWpCZ05WSFJF
      RUhEQWFnaGhqWVMxMGIyOXNjeTA1T1dZM056Vm1OMkl0Ck5HZHJjVEl3Z1lFR0NDb0RCQVVHQndn
      QkJIVjdJbUYwZEhKeklqcDdJbUZpWVdNdWFXNXBkQ0k2SW5SeWRXVWkKTENKaFpHMXBiaUk2SW5S
      eWRXVWlMQ0pvWmk1QlptWnBiR2xoZEdsdmJpSTZJaUlzSW1obUxrVnVjbTlzYkcxbApiblJKUkNJ
      NklrRmtiV2x1UUdOall5MXVaWFFpTENKb1ppNVVlWEJsSWpvaVlXUnRhVzRpZlgwd0NnWUlLb1pJ
      CnpqMEVBd0lEUndBd1JBSWdiVW5qZmVlaEdsY0JCUE93RC9wMWtqcXNCNU53RGMyQnFqS3JwTzRr
      a3VjQ0lIRFIKSEpQQXp4bkIvTGs0V1FqVnYzUTNVeURpMm5ZTXZqcUw4WVhwVnBkRQotLS0tLUVO
      RCBDRVJUSUZJQ0FURS0tLS0tCkIOCgRTSEEyEgZTSEEyNTZKtgYtLS0tLUJFR0lOIENFUlRJRklD
      QVRFLS0tLS0KTUlJQ016Q0NBZHFnQXdJQkFnSVVTeDdLVjIrMm1zS2ttSGZOTUNmRFFKK3pQT293
      Q2dZSUtvWkl6ajBFQXdJdwplREVMTUFrR0ExVUVCaE1DUjBJeER6QU5CZ05WQkFnTUJreHZibVJ2
      YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1Rd3dDZ1lEVlFRS0RBTmpZMk14T1RBM0JnTlZCQU1N
      TUdOaExtTmpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnYKY2k1aWJHOWphMk5vWVdsdUxteHBkV0po
      Ym1sdVl5NWpiakFlRncweU1qQXhNalV3T0RVeE5EWmFGdzB5TkRFeApNVFF3T0RVeE5EWmFNSGd4
      Q3pBSkJnTlZCQVlUQWtkQ01ROHdEUVlEVlFRSURBWk1iMjVrYjI0eER6QU5CZ05WCkJBY01Ca3h2
      Ym1SdmJqRU1NQW9HQTFVRUNnd0RZMk5qTVRrd053WURWUVFERERCallTNWpZMk10Ym1WMExtTmoK
      WTJGdFltRnpjMkZrYjNJdVlteHZZMnRqYUdGcGJpNXNhWFZpWVc1cGJtTXVZMjR3V1RBVEJnY3Fo
      a2pPUFFJQgpCZ2dxaGtqT1BRTUJCd05DQUFRR2VFa2c4MTRXRnBxdkJIZjVxdU85RERBZzJNOGc3
      RzY3RlFNbWEyVWhmM1VNCkRBYlFtV3dmdlg0d0tFdTBublJGcjk3Z0hYTVVPUTFQNWNTRjAxZnhv
      MEl3UURBUEJnTlZIUk1CQWY4RUJUQUQKQVFIL01BNEdBMVVkRHdFQi93UUVBd0lCcGpBZEJnTlZI
      UTRFRmdRVWg2aWFRNGlDTVZXRUVlOU94RVV2M2V0Ngo0WWN3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdS
      QUlnSnVzSXk0S3N6N0NzN1BHTHBuSTJDdmpwNnJwTnJqSXJibmh2Clh6WXhmMEFDSUh4Q0RCSDVk
      a3NGRGdGdEsxcC8zVUZvYjhoNHQxeHk3MTF6MWdjUnN2WUEKLS0tLS1FTkQgQ0VSVElGSUNBVEUt
      LS0tLQoaBkFkbWlucyIwCgZBZG1pbnMSJhIcCAESGBIIEgYIARICCAAaDBIKCgZjY2NNU1AQARoG
      QWRtaW5zIjMKC0VuZG9yc2VtZW50EiQSGggBEhYSCBIGCAESAggAGgoSCAoGY2NjTVNQGgZBZG1p
      bnMiLwoHUmVhZGVycxIkEhoIARIWEggSBggBEgIIABoKEggKBmNjY01TUBoGQWRtaW5zIi8KB1dy
      aXRlcnMSJBIaCAESFhIIEgYIARICCAAaChIICgZjY2NNU1AaBkFkbWlucyoGQWRtaW5zGiIKDUNv
      bnNlbnN1c1R5cGUSERIHCgVrYWZrYRoGQWRtaW5zGiIKCUJhdGNoU2l6ZRIVEgsIChCAgIAxGICA
      QBoGQWRtaW5zGh4KDEJhdGNoVGltZW91dBIOEgQKAjJzGgZBZG1pbnMaHwoTQ2hhbm5lbFJlc3Ry
      aWN0aW9ucxIIGgZBZG1pbnMaJAoMQ2FwYWJpbGl0aWVzEhQSCgoICgRWMl8wEgAaBkFkbWlucxrY
      AQoMS2Fma2FCcm9rZXJzEscBErwBCi1rYWZrYS0wLmJyb2tlci5jY2MtbmV0LnN2Yy5jbHVzdGVy
      LmxvY2FsOjkwOTIKLWthZmthLTEuYnJva2VyLmNjYy1uZXQuc3ZjLmNsdXN0ZXIubG9jYWw6OTA5
      Mgota2Fma2EtMi5icm9rZXIuY2NjLW5ldC5zdmMuY2x1c3Rlci5sb2NhbDo5MDkyCi1rYWZrYS0z
      LmJyb2tlci5jY2MtbmV0LnN2Yy5jbHVzdGVyLmxvY2FsOjkwOTIaBkFkbWlucyIiCgZBZG1pbnMS
      GBIOCAMSCgoGQWRtaW5zEAIaBkFkbWlucyIqCg9CbG9ja1ZhbGlkYXRpb24SFxINCAMSCQoHV3Jp
      dGVycxoGQWRtaW5zIiIKB1JlYWRlcnMSFxINCAMSCQoHUmVhZGVycxoGQWRtaW5zIiIKB1dyaXRl
      cnMSFxINCAMSCQoHV3JpdGVycxoGQWRtaW5zKgZBZG1pbnMSxgEKC0NvbnNvcnRpdW1zErYBEmwK
      DWNjY0NvbnNvcnRpdW0SWxpAChVDaGFubmVsQ3JlYXRpb25Qb2xpY3kSJxIMCAMSCAoGQWRtaW5z
      GhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucyoXL0NoYW5uZWwvT3JkZXJlci9BZG1pbnMiLQoGQWRt
      aW5zEiMSCAgBEgQSAhIAGhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucyoXL0NoYW5uZWwvT3JkZXJl
      ci9BZG1pbnMaLQoZQmxvY2tEYXRhSGFzaGluZ1N0cnVjdHVyZRIQEgYI/////w8aBkFkbWlucxqF
      AgoQT3JkZXJlckFkZHJlc3NlcxLwARLUAQozb3JkZXJlcjAuY2NjYW1iYXNzYWRvci5ibG9ja2No
      YWluLmxpdWJhbmluYy5jbjo4NDQzCjNvcmRlcmVyMS5jY2NhbWJhc3NhZG9yLmJsb2NrY2hhaW4u
      bGl1YmFuaW5jLmNuOjg0NDMKM29yZGVyZXIyLmNjY2FtYmFzc2Fkb3IuYmxvY2tjaGFpbi5saXVi
      YW5pbmMuY246ODQ0Mwozb3JkZXJlcjMuY2NjYW1iYXNzYWRvci5ibG9ja2NoYWluLmxpdWJhbmlu
      Yy5jbjo4NDQzGhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucxokCgxDYXBhYmlsaXRpZXMSFBIKCggK
      BFYyXzASABoGQWRtaW5zGiYKEEhhc2hpbmdBbGdvcml0aG0SEhIICgZTSEEyNTYaBkFkbWlucyIi
      CgdXcml0ZXJzEhcSDQgDEgkKB1dyaXRlcnMaBkFkbWlucyIiCgZBZG1pbnMSGBIOCAMSCgoGQWRt
      aW5zEAIaBkFkbWlucyIiCgdSZWFkZXJzEhcSDQgDEgkKB1JlYWRlcnMaBkFkbWlucyoGQWRtaW5z
      Gg4KBAoCCgAKAAoACgAKAA==
