apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: ccc-orderer2
  namespace: ccc-net
  annotations:
    fluxcd.io/automated: "false"
spec:
  releaseName: ccc-orderer2
  chart:
    git: https://github.com/liubaninc/bevel.git
    ref: local10
    path: platforms/hyperledger-fabric/charts/orderernode
  values:
    metadata:
      namespace: ccc-net
      images:
        orderer: hyperledger/fabric-orderer:2.2.2
        alpineutils: index.docker.io/hyperledgerlabs/alpine-utils:1.0
    annotations:  
      service:
        - example1: example2
      pvc:
      deployment:
    orderer:
      name: orderer2
      loglevel: info
      localmspid: cccMSP
      tlsstatus: true
      keepaliveserverinterval: 10s
    
    consensus:
      name: kafka

    storage:
      storageclassname: cccsc
      storagesize: 512Mi  

    service:
      servicetype: ClusterIP
      ports:
        grpc:
          clusteripport: 7050

    vault:
      address: http://101.36.106.59:8200
      role: vault-role
      authpath: devccc-net-auth
      secretprefix: secretsv2/data/crypto/ordererOrganizations/ccc-net/orderers/orderer2.ccc-net
      imagesecretname: regcred
      serviceaccountname: vault-auth
    kafka:
      readinesscheckinterval: 10
      readinessthreshold: 10
      brokers:
      - kafka-0.broker.ccc-net.svc.cluster.local:9092
      - kafka-1.broker.ccc-net.svc.cluster.local:9092
      - kafka-2.broker.ccc-net.svc.cluster.local:9092
      - kafka-3.broker.ccc-net.svc.cluster.local:9092

    proxy:
      provider: haproxy
      external_url_suffix: cccambassador.blockchain.liubaninc.cn

    genesis: |-
      CiIaIFn6dbqfDCaf0JTBc7qJ5Qx0gZjW3KPywhVmCF976dgEEtciCtQiCtEiCngKWggBEAEaBgi1
      vL6PBiIKc3lzY2hhbm5lbCpAZmMyMjdiOWZmMzkxMjFmNWRlYmYzNWUxYTUwNGRmMDA1ZWNlY2Zm
      NTI3ZGFjNzFhYjg5OTI0ZWNkZTBhMTk3ZhIaEhjW2o+vVd6FfMZk46i3XSzMOUba5ds53xAS1CEK
      0SESziESiRwKB09yZGVyZXIS/RsS0BcKBmNjY01TUBLFFxrxFQoDTVNQEukVEt4VEtsVCgZjY2NN
      U1ASwgYtLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0KTUlJQ1BEQ0NBZUtnQXdJQkFnSVVQS1BY
      U0VwWWhualkxVURjd242SzVKQXVpcFF3Q2dZSUtvWkl6ajBFQXdJdwpmREVMTUFrR0ExVUVCaE1D
      UjBJeER6QU5CZ05WQkFnTUJreHZibVJ2YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1SQXdEZ1lE
      VlFRS0RBZFBjbVJsY21WeU1Ua3dOd1lEVlFRREREQmpZUzVqWTJNdGJtVjBMbU5qWTJGdFltRnoK
      YzJGa2IzSXVZbXh2WTJ0amFHRnBiaTVzYVhWaVlXNXBibU11WTI0d0hoY05Nakl3TVRJMU1EWTBN
      elF6V2hjTgpNalF4TVRFME1EWTBNelF6V2pCOE1Rc3dDUVlEVlFRR0V3SkhRakVQTUEwR0ExVUVD
      QXdHVEc5dVpHOXVNUTh3CkRRWURWUVFIREFaTWIyNWtiMjR4RURBT0JnTlZCQW9NQjA5eVpHVnla
      WEl4T1RBM0JnTlZCQU1NTUdOaExtTmoKWXkxdVpYUXVZMk5qWVcxaVlYTnpZV1J2Y2k1aWJHOWph
      Mk5vWVdsdUxteHBkV0poYm1sdVl5NWpiakJaTUJNRwpCeXFHU000OUFnRUdDQ3FHU000OUF3RUhB
      MElBQlBELzFRTDlMZEJhSU9zK1lJMy9VamFiOTI4SEpOdlhUWWIrCjFOYmdiN3ptcDRwQXhiY1Zs
      ZjRSdkJKVW4vc1pWeFlnWCt0L3hKRUVpTEl2bnJXY0ZjR2pRakJBTUE4R0ExVWQKRXdFQi93UUZN
      QU1CQWY4d0RnWURWUjBQQVFIL0JBUURBZ0dtTUIwR0ExVWREZ1FXQkJTNXFFTVgvNXpPeFBwYQph
      RDd6U21ZT1M5ZXQwekFLQmdncWhrak9QUVFEQWdOSUFEQkZBaUVBdG12NHdKTDR5ZThQVlZadktO
      VEdRSE5HCndHdG5wZDlybFlUQzh4L2g4L1FDSUU0TGNjbEprK1dFdXFrNTh0aFpLOTFTQVRZMk42
      VUZlNHlLbHdjVXA0ZWgKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQoitggtLS0tLUJFR0lOIENF
      UlRJRklDQVRFLS0tLS0KTUlJQzd6Q0NBcFdnQXdJQkFnSVVZT01iQlRodlo0cnVNaFJaU29xclkw
      QWMzaHd3Q2dZSUtvWkl6ajBFQXdJdwpmREVMTUFrR0ExVUVCaE1DUjBJeER6QU5CZ05WQkFnTUJr
      eHZibVJ2YmpFUE1BMEdBMVVFQnd3R1RHOXVaRzl1Ck1SQXdEZ1lEVlFRS0RBZFBjbVJsY21WeU1U
      a3dOd1lEVlFRREREQmpZUzVqWTJNdGJtVjBMbU5qWTJGdFltRnoKYzJGa2IzSXVZbXh2WTJ0amFH
      RnBiaTVzYVhWaVlXNXBibU11WTI0d0hoY05Nakl3TVRJMU1EWTBOekF3V2hjTgpNak13TVRJMU1E
      WTFNakF3V2pCa01Rc3dDUVlEVlFRR0V3SkhRakViTUJrR0ExVUVCeE1TTlRFdU5UQXZMVEF1Ck1U
      TXZURzl1Wkc5dU1SQXdEZ1lEVlFRS0V3ZFBjbVJsY21WeU1RNHdEQVlEVlFRTEV3VmhaRzFwYmpF
      V01CUUcKQTFVRUF3d05RV1J0YVc1QVkyTmpMVzVsZERCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000
      OUF3RUhBMElBQkQ4dwppSEdjSTIwUE5tcHJRUGFSWi9PT0NCWVp2WFppSHFIVzczcTAwRmJJdDVR
      blBUcXhDc1VsOGoxTUMvTWIrMkhuCjVlUDJPNEZIdStsT3hySStsbFdqZ2dFTE1JSUJCekFPQmdO
      VkhROEJBZjhFQkFNQ0I0QXdEQVlEVlIwVEFRSC8KQkFJd0FEQWRCZ05WSFE0RUZnUVVGV09VS1Fo
      a2ZOeFlQSzAwWmtGbjBNMnh6RnN3SHdZRFZSMGpCQmd3Rm9BVQp1YWhERi8rY3pzVDZXbWcrODBw
      bURrdlhyZE13SXdZRFZSMFJCQnd3R29JWVkyRXRkRzl2YkhNdE9UbG1OemMxClpqZGlMV3MzYldo
      eU1JR0JCZ2dxQXdRRkJnY0lBUVIxZXlKaGRIUnljeUk2ZXlKaFltRmpMbWx1YVhRaU9pSjAKY25W
      bElpd2lZV1J0YVc0aU9pSjBjblZsSWl3aWFHWXVRV1ptYVd4cFlYUnBiMjRpT2lJaUxDSm9aaTVG
      Ym5KdgpiR3h0Wlc1MFNVUWlPaUpCWkcxcGJrQmpZMk10Ym1WMElpd2lhR1l1Vkhsd1pTSTZJbUZr
      YldsdUluMTlNQW9HCkNDcUdTTTQ5QkFNQ0EwZ0FNRVVDSVFEZDNQNTRpTUhtR1d0UnJwVUxobXFr
      eHd2NUJLQ3VLeU9wM1VSSG81ajgKUlFJZ2J2MnVSMGRDNWtmTHBPMU1KcFpCWExMQlhadkgvSi9V
      eHI2S1FZQlVYbkk9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0KQg4KBFNIQTISBlNIQTI1NkrC
      Bi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQpNSUlDUERDQ0FlS2dBd0lCQWdJVVBLUFhTRXBZ
      aG5qWTFVRGN3bjZLNUpBdWlwUXdDZ1lJS29aSXpqMEVBd0l3CmZERUxNQWtHQTFVRUJoTUNSMEl4
      RHpBTkJnTlZCQWdNQmt4dmJtUnZiakVQTUEwR0ExVUVCd3dHVEc5dVpHOXUKTVJBd0RnWURWUVFL
      REFkUGNtUmxjbVZ5TVRrd053WURWUVFERERCallTNWpZMk10Ym1WMExtTmpZMkZ0WW1GegpjMkZr
      YjNJdVlteHZZMnRqYUdGcGJpNXNhWFZpWVc1cGJtTXVZMjR3SGhjTk1qSXdNVEkxTURZME16UXpX
      aGNOCk1qUXhNVEUwTURZME16UXpXakI4TVFzd0NRWURWUVFHRXdKSFFqRVBNQTBHQTFVRUNBd0dU
      Rzl1Wkc5dU1ROHcKRFFZRFZRUUhEQVpNYjI1a2IyNHhFREFPQmdOVkJBb01CMDl5WkdWeVpYSXhP
      VEEzQmdOVkJBTU1NR05oTG1OagpZeTF1WlhRdVkyTmpZVzFpWVhOellXUnZjaTVpYkc5amEyTm9Z
      V2x1TG14cGRXSmhibWx1WXk1amJqQlpNQk1HCkJ5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUFC
      UEQvMVFMOUxkQmFJT3MrWUkzL1VqYWI5MjhISk52WFRZYisKMU5iZ2I3em1wNHBBeGJjVmxmNFJ2
      QkpVbi9zWlZ4WWdYK3QveEpFRWlMSXZucldjRmNHalFqQkFNQThHQTFVZApFd0VCL3dRRk1BTUJB
      Zjh3RGdZRFZSMFBBUUgvQkFRREFnR21NQjBHQTFVZERnUVdCQlM1cUVNWC81ek94UHBhCmFEN3pT
      bVlPUzlldDB6QUtCZ2dxaGtqT1BRUURBZ05JQURCRkFpRUF0bXY0d0pMNHllOFBWVlp2S05UR1FI
      TkcKd0d0bnBkOXJsWVRDOHgvaDgvUUNJRTRMY2NsSmsrV0V1cWs1OHRoWks5MVNBVFkyTjZVRmU0
      eUtsd2NVcDRlaAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tChoGQWRtaW5zIjMKC0VuZG9yc2Vt
      ZW50EiQSGggBEhYSCBIGCAESAggAGgoSCAoGY2NjTVNQGgZBZG1pbnMiLwoHUmVhZGVycxIkEhoI
      ARIWEggSBggBEgIIABoKEggKBmNjY01TUBoGQWRtaW5zIi8KB1dyaXRlcnMSJBIaCAESFhIIEgYI
      ARICCAAaChIICgZjY2NNU1AaBkFkbWlucyIwCgZBZG1pbnMSJhIcCAESGBIIEgYIARICCAAaDBIK
      CgZjY2NNU1AQARoGQWRtaW5zKgZBZG1pbnMaHgoMQmF0Y2hUaW1lb3V0Eg4SBAoCMnMaBkFkbWlu
      cxofChNDaGFubmVsUmVzdHJpY3Rpb25zEggaBkFkbWlucxokCgxDYXBhYmlsaXRpZXMSFBIKCggK
      BFYyXzASABoGQWRtaW5zGtgBCgxLYWZrYUJyb2tlcnMSxwESvAEKLWthZmthLTAuYnJva2VyLmNj
      Yy1uZXQuc3ZjLmNsdXN0ZXIubG9jYWw6OTA5Mgota2Fma2EtMS5icm9rZXIuY2NjLW5ldC5zdmMu
      Y2x1c3Rlci5sb2NhbDo5MDkyCi1rYWZrYS0yLmJyb2tlci5jY2MtbmV0LnN2Yy5jbHVzdGVyLmxv
      Y2FsOjkwOTIKLWthZmthLTMuYnJva2VyLmNjYy1uZXQuc3ZjLmNsdXN0ZXIubG9jYWw6OTA5MhoG
      QWRtaW5zGiIKDUNvbnNlbnN1c1R5cGUSERIHCgVrYWZrYRoGQWRtaW5zGiIKCUJhdGNoU2l6ZRIV
      EgsIChCAgIAxGICAQBoGQWRtaW5zIiIKBkFkbWlucxIYEg4IAxIKCgZBZG1pbnMQAhoGQWRtaW5z
      IioKD0Jsb2NrVmFsaWRhdGlvbhIXEg0IAxIJCgdXcml0ZXJzGgZBZG1pbnMiIgoHUmVhZGVycxIX
      Eg0IAxIJCgdSZWFkZXJzGgZBZG1pbnMiIgoHV3JpdGVycxIXEg0IAxIJCgdXcml0ZXJzGgZBZG1p
      bnMqBkFkbWlucxLGAQoLQ29uc29ydGl1bXMStgESbAoNY2NjQ29uc29ydGl1bRJbGkAKFUNoYW5u
      ZWxDcmVhdGlvblBvbGljeRInEgwIAxIICgZBZG1pbnMaFy9DaGFubmVsL09yZGVyZXIvQWRtaW5z
      KhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucyItCgZBZG1pbnMSIxIICAESBBICEgAaFy9DaGFubmVs
      L09yZGVyZXIvQWRtaW5zKhcvQ2hhbm5lbC9PcmRlcmVyL0FkbWlucxotChlCbG9ja0RhdGFIYXNo
      aW5nU3RydWN0dXJlEhASBgj/////DxoGQWRtaW5zGoUCChBPcmRlcmVyQWRkcmVzc2VzEvABEtQB
      CjNvcmRlcmVyMC5jY2NhbWJhc3NhZG9yLmJsb2NrY2hhaW4ubGl1YmFuaW5jLmNuOjg0NDMKM29y
      ZGVyZXIxLmNjY2FtYmFzc2Fkb3IuYmxvY2tjaGFpbi5saXViYW5pbmMuY246ODQ0Mwozb3JkZXJl
      cjIuY2NjYW1iYXNzYWRvci5ibG9ja2NoYWluLmxpdWJhbmluYy5jbjo4NDQzCjNvcmRlcmVyMy5j
      Y2NhbWJhc3NhZG9yLmJsb2NrY2hhaW4ubGl1YmFuaW5jLmNuOjg0NDMaFy9DaGFubmVsL09yZGVy
      ZXIvQWRtaW5zGiQKDENhcGFiaWxpdGllcxIUEgoKCAoEVjJfMBIAGgZBZG1pbnMaJgoQSGFzaGlu
      Z0FsZ29yaXRobRISEggKBlNIQTI1NhoGQWRtaW5zIiIKBkFkbWlucxIYEg4IAxIKCgZBZG1pbnMQ
      AhoGQWRtaW5zIiIKB1JlYWRlcnMSFxINCAMSCQoHUmVhZGVycxoGQWRtaW5zIiIKB1dyaXRlcnMS
      FxINCAMSCQoHV3JpdGVycxoGQWRtaW5zKgZBZG1pbnMaDgoECgIKAAoACgAKAAoA
